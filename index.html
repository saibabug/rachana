<!DOCTYPE html>
<html lang="te" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞∞‡∞ö‡∞® ‡∞∏‡∞Ç‡∞™‡∞æ‡∞¶‡∞ï‡±Å‡∞°‡±Å - Telugu Writing Studio</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Telugu:wght@300;400;500;600;700;900&family=Noto+Sans+Telugu:wght@300;400;500;600;700;900&family=Tiro+Telugu&family=Mandali&family=Ramabhadra&family=Gurajada&family=Tenali+Ramakrishna&family=Peddana&family=Ramaraja&family=Gidugu&family=Lakki+Reddy&family=NTR&family=Sree+Krushnadevaraya&family=Suranna&family=Suravaram&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- APP SHELL -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="app">
  
  <!-- TITLE BAR -->
  <div id="titlebar">
    <div>
      <div class="title-logo">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞∞‡∞ö‡∞® ‡∞∏‡∞Ç‡∞™‡∞æ‡∞¶‡∞ï‡±Å‡∞°‡±Å</div>
      <div class="title-sub">TELUGU WRITING STUDIO</div>
    </div>
    <div class="title-actions">
      <button class="title-btn" onclick="openModal('book-info-modal')">üìñ ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞∏‡∞Æ‡∞æ‡∞ö‡∞æ‡∞∞‡∞Ç</button>
      <button class="title-btn" onclick="openModal('preview-modal')">üëÅ ‡∞™‡±ç‡∞∞‡∞ø‡∞µ‡±ç‡∞Ø‡±Ç</button>
      <button class="title-btn" onclick="openModal('cover-modal')">üé® ‡∞ï‡∞µ‡∞∞‡±ç</button>
      <button class="title-btn" onclick="showStats()">üìä ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞æ‡∞∂‡∞æ‡∞∏‡±ç‡∞§‡±ç‡∞∞‡∞Ç</button>
      <button class="title-btn primary" onclick="saveAll()">üíæ ‡∞∏‡±á‡∞µ‡±ç ‡∞ö‡±á‡∞Ø‡∞ø</button>
    </div>
  </div>

  <!-- TOOLBAR -->
  <div id="toolbar">
    <!-- Font Family -->
    <select class="tb-select" id="font-select" onchange="changeFont(this.value)">
      <option value="'Nirmala UI','Gautami','Noto Serif Telugu',serif">Nirmala UI</option>
      <option value="'Gautami','Nirmala UI','Noto Serif Telugu',serif">Gautami</option>
      <option value="'Noto Serif Telugu',serif">Noto Serif Telugu</option>
      <option value="'Noto Sans Telugu',sans-serif">Noto Sans Telugu</option>
      <option value="'Tiro Telugu',serif">Tiro Telugu</option>
      <option value="'Mandali',sans-serif">Mandali</option>
      <option value="'Ramabhadra',sans-serif">Ramabhadra</option>
      <option value="'Gurajada',serif">Gurajada</option>
      <option value="'Tenali Ramakrishna',sans-serif">Tenali Ramakrishna</option>
      <option value="'Peddana',serif">Peddana</option>
      <option value="'Ramaraja',serif">Ramaraja</option>
      <option value="'Gidugu',sans-serif">Gidugu</option>
      <option value="'Lakki Reddy',sans-serif">Lakki Reddy</option>
      <option value="'NTR',sans-serif">NTR</option>
      <option value="'Sree Krushnadevaraya',serif">Sree Krushnadevaraya</option>
      <option value="'Suranna',serif">Suranna</option>
      <option value="'Suravaram',serif">Suravaram</option>
    </select>

    <!-- Font Size -->
    <input type="number" class="font-size-input" id="font-size-input" value="18" min="10" max="72" onchange="changeFontSize(this.value)">

    <div class="tb-sep"></div>

    <!-- Text Formatting -->
    <button class="tb-btn" onclick="execCmd('bold')" title="Bold (Ctrl+B)"><b>B</b></button>
    <button class="tb-btn" onclick="execCmd('italic')" title="Italic (Ctrl+I)"><i>I</i></button>
    <button class="tb-btn" onclick="execCmd('underline')" title="Underline (Ctrl+U)"><u>U</u></button>

    <div class="tb-sep"></div>

    <!-- Alignment -->
    <button class="tb-btn" onclick="execCmd('justifyLeft')" title="Align Left">‚óß</button>
    <button class="tb-btn" onclick="execCmd('justifyCenter')" title="Align Center">‚ó®</button>
    <button class="tb-btn" onclick="execCmd('justifyRight')" title="Align Right">‚ó©</button>
    <button class="tb-btn" onclick="execCmd('justifyFull')" title="Justify">‚ñ≠</button>

    <div class="tb-sep"></div>

    <!-- Lists -->
    <button class="tb-btn" onclick="execCmd('insertUnorderedList')" title="Bullet List">‚Ä¢ List</button>
    <button class="tb-btn" onclick="execCmd('insertOrderedList')" title="Numbered List">1. List</button>

    <div class="tb-sep"></div>

    <!-- Other -->
    <button class="tb-btn" onclick="insertHeading()" title="Insert Heading">H</button>
    <button class="tb-btn" onclick="execCmd('removeFormat')" title="Clear Formatting">‚úï</button>
  </div>

  <!-- MAIN CONTENT AREA -->
  <div id="main">
    
    <!-- LEFT SIDEBAR -->
    <div id="sidebar-left">
      <div class="sidebar-tabs">
        <div class="s-tab active" onclick="switchSTab('chapters', this)">‡∞Ö‡∞ß‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞≤‡±Å</div>
        <div class="s-tab" onclick="switchSTab('meta', this)">‡∞Æ‡±Ü‡∞ü‡∞æ‡∞°‡±á‡∞ü‡∞æ</div>
      </div>

      <!-- Chapters Panel -->
      <div id="panel-chapters" class="sidebar-panel active">
        <div class="chapter-actions">
          <button class="ch-btn" onclick="addChapter()">+ ‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞Ö‡∞ß‡±ç‡∞Ø‡∞æ‡∞Ø‡∞Ç</button>
        </div>
        <div id="chapter-list"></div>
      </div>

      <!-- Meta Panel -->
      <div id="panel-meta" class="sidebar-panel">
        <div class="form-group">
          <label class="form-label">‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞™‡±á‡∞∞‡±Å</label>
          <input type="text" class="form-input" id="book-title" placeholder="‡∞Æ‡±Ä ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞™‡±á‡∞∞‡±Å...">
        </div>
        <div class="form-group">
          <label class="form-label">‡∞∞‡∞ö‡∞Ø‡∞ø‡∞§</label>
          <input type="text" class="form-input" id="book-author" placeholder="‡∞∞‡∞ö‡∞Ø‡∞ø‡∞§ ‡∞™‡±á‡∞∞‡±Å...">
        </div>
        <div class="form-group">
          <label class="form-label">‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∞‡∞Ç</label>
          <select class="form-input" id="book-genre">
            <option value="">‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø...</option>
            <option value="‡∞ï‡∞•">‡∞ï‡∞•</option>
            <option value="‡∞®‡∞µ‡∞≤">‡∞®‡∞µ‡∞≤</option>
            <option value="‡∞ï‡∞µ‡∞ø‡∞§">‡∞ï‡∞µ‡∞ø‡∞§</option>
            <option value="‡∞®‡∞æ‡∞ü‡∞ï‡∞Ç">‡∞®‡∞æ‡∞ü‡∞ï‡∞Ç</option>
            <option value="‡∞ú‡±Ä‡∞µ‡∞ø‡∞§ ‡∞ö‡∞∞‡∞ø‡∞§‡±ç‡∞∞">‡∞ú‡±Ä‡∞µ‡∞ø‡∞§ ‡∞ö‡∞∞‡∞ø‡∞§‡±ç‡∞∞</option>
            <option value="‡∞™‡±ç‡∞∞‡∞µ‡∞ö‡∞®‡∞Ç">‡∞™‡±ç‡∞∞‡∞µ‡∞ö‡∞®‡∞Ç</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">‡∞™‡±ç‡∞∞‡∞ö‡±Å‡∞∞‡∞£‡∞ï‡∞∞‡±ç‡∞§</label>
          <input type="text" class="form-input" id="book-publisher" placeholder="‡∞™‡±ç‡∞∞‡∞ö‡±Å‡∞∞‡∞£‡∞ï‡∞∞‡±ç‡∞§...">
        </div>
        <div class="form-group">
          <label class="form-label">ISBN</label>
          <input type="text" class="form-input" id="book-isbn" placeholder="ISBN...">
        </div>
        <div class="form-group">
          <label class="form-label">‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞Ç</label>
          <input type="text" class="form-input" id="book-year" placeholder="‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞Ç...">
        </div>
        <button class="ch-btn" onclick="saveBookInfo()" style="margin-top:12px;">‡∞∏‡±á‡∞µ‡±ç ‡∞ö‡±á‡∞Ø‡∞ø</button>
      </div>
    </div>

    <!-- EDITOR -->
    <div id="editor-wrapper">
      <div id="text-editor" contenteditable="true" spellcheck="false" oninput="updateStats()" onmouseup="checkSelection()"></div>
      <div id="editor-status">
        <div class="status-item">
          <span id="status-words">‡∞™‡∞¶‡∞æ‡∞≤‡±Å: 0</span>
          <span id="status-chars">‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å: 0</span>
          <span id="status-read-time">‡∞ö‡∞¶‡∞µ‡∞°‡∞Ç: 0 ‡∞®‡∞ø‡∞Æ‡∞ø.</span>
        </div>
        <div class="status-item">
          <span id="status-chapter">‡∞Ö‡∞ß‡±ç‡∞Ø‡∞æ‡∞Ø‡∞Ç 1 / 1</span>
        </div>
      </div>
    </div>

    <!-- RIGHT SIDEBAR -->
    <div id="sidebar-right">
      <div class="right-tabs">
        <div class="r-tab active" onclick="switchRTab('dictionary', this)">‡∞®‡∞ø‡∞ò‡∞Ç‡∞ü‡±Å‡∞µ‡±Å</div>
        <div class="r-tab" onclick="switchRTab('reference', this)">‡∞∏‡±Ç‡∞ö‡∞®‡∞≤‡±Å</div>
        <div class="r-tab" onclick="switchRTab('settings', this)">‡∞∏‡±Ü‡∞ü‡±ç‡∞ü‡∞ø‡∞Ç‡∞ó‡±ç‡∞∏‡±ç</div>
      </div>

      <!-- Dictionary Panel -->
      <div id="panel-dictionary" class="right-panel active">
        <div class="dict-search-box">
          <input type="text" class="dict-input" id="dict-search-input" placeholder="‡∞™‡∞¶‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡±Ü‡∞§‡∞ï‡∞Ç‡∞°‡∞ø..." onkeypress="if(event.key==='Enter') searchDictionary()">
          <button class="dict-search-btn" onclick="searchDictionary()">‡∞µ‡±Ü‡∞§‡±Å‡∞ï‡±Å</button>
        </div>
        <div class="dict-results" id="dict-results">
          <div class="dict-empty">
            <p>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞™‡∞¶‡∞æ‡∞≤ ‡∞Ö‡∞∞‡±ç‡∞•‡∞æ‡∞≤‡±Å ‡∞§‡±Ü‡∞≤‡±Å‡∞∏‡±Å‡∞ï‡±ã‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞™‡±à‡∞® ‡∞µ‡±Ü‡∞§‡∞ï‡∞Ç‡∞°‡∞ø.</p>
            <div class="dict-quick-words">
              <div class="dict-quick-word" onclick="quickSearch('‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç')">‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç</div>
              <div class="dict-quick-word" onclick="quickSearch('‡∞∞‡∞ö‡∞®')">‡∞∞‡∞ö‡∞®</div>
              <div class="dict-quick-word" onclick="quickSearch('‡∞ï‡∞µ‡∞ø‡∞§')">‡∞ï‡∞µ‡∞ø‡∞§</div>
              <div class="dict-quick-word" onclick="quickSearch('‡∞ï‡∞•')">‡∞ï‡∞•</div>
              <div class="dict-quick-word" onclick="quickSearch('‡∞≠‡∞æ‡∞∑')">‡∞≠‡∞æ‡∞∑</div>
              <div class="dict-quick-word" onclick="quickSearch('‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø')">‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Reference Panel -->
      <div id="panel-reference" class="right-panel">
        <div class="ref-panel-content">
          <div class="ref-section" style="background:var(--bg-card);padding:12px;border-radius:8px;margin-bottom:16px;">
            <div class="ref-title" style="margin-bottom:8px;">üî§ ‡∞ü‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞∏‡±ç‚Äå‡∞≤‡∞ø‡∞ü‡∞∞‡±á‡∞∑‡∞®‡±ç</div>
            <div class="form-group" style="margin-bottom:6px;">
              <label class="form-label" style="font-size:11px;margin-bottom:4px;">Input Scheme</label>
              <select class="form-input" id="translitScheme" style="font-size:12px;padding:4px 6px;">
                <option value="itrans_dravidian">ITRANS Dravidian ‚Äî raama, ee, oo (recommended)</option>
                <option value="itrans">ITRANS ‚Äî rAma, namaste</option>
                <option value="hk">Harvard-Kyoto ‚Äî rAma, namaste</option>
                <option value="slp1">SLP1 ‚Äî rAma, kfzRa</option>
                <option value="iast">IAST ‚Äî rƒÅma, namaste</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label" style="font-size:11px;margin-bottom:4px;">English / Roman Input</label>
              <input type="text" class="form-input" id="translitInput" placeholder="‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø‚Ä¶" disabled style="font-size:14px;padding:8px;">
            </div>
            <div class="form-group" style="margin-top:8px;">
              <label class="form-label" style="font-size:11px;margin-bottom:4px;">Telugu Output</label>
              <div id="translitOutput" style="background:var(--bg-editor);padding:10px;border-radius:4px;min-height:40px;font-family:'Nirmala UI','Gautami','Noto Serif Telugu',serif;font-size:20px;color:#333;letter-spacing:1px;"></div>
            </div>
            <details style="margin-top:8px;font-size:11px;color:var(--text-muted);">
              <summary style="cursor:pointer;">ITRANS Quick Reference</summary>
              <div style="margin-top:6px;line-height:1.8;">
                <b>Short vowels:</b> a i u e o<br>
                <b>Long vowels:</b> aa/A ii/I uu/U ee oo<br>
                <b>Examples:</b> raama‚Üí‡∞∞‡∞æ‡∞Æ, siita‚Üí‡∞∏‡±Ä‡∞§<br>
                <b>Retroflex:</b> Ta Tha Da Dha Na<br>
                <b>Sibilants:</b> sha Sha sa ha<br>
                <b>Anusvara:</b> M &nbsp; <b>Visarga:</b> H<br>
                <b>Try:</b> namaste ¬∑ telugu ¬∑ krishna
              </div>
            </details>
            <button class="setting-btn" onclick="insertTranslitText()" style="width:100%;margin-top:8px;font-size:12px;">‚úì ‡∞é‡∞°‡∞ø‡∞ü‡∞∞‡±ç‚Äå‡∞≤‡±ã ‡∞ö‡±á‡∞∞‡±ç‡∞ö‡±Å</button>
          </div>

          <div class="ref-section">
            <div class="ref-title">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç</div>
            <div class="ref-item" onclick="insertText('‡∞Ö ‡∞Ü ‡∞á ‡∞à ‡∞â ‡∞ä ‡∞ã ‡±† ‡∞é ‡∞è ‡∞ê ‡∞í ‡∞ì ‡∞î ‡∞Ö‡∞Ç ‡∞Ö‡∞É')">‡∞Ö‡∞ö‡±ç‡∞ö‡±Å‡∞≤‡±Å (Vowels)</div>
            <div class="ref-item" onclick="insertText('‡∞ï ‡∞ñ ‡∞ó ‡∞ò ‡∞ô ‡∞ö ‡∞õ ‡∞ú ‡∞ù ‡∞û ‡∞ü ‡∞† ‡∞° ‡∞¢ ‡∞£ ‡∞§ ‡∞• ‡∞¶ ‡∞ß ‡∞® ‡∞™ ‡∞´ ‡∞¨ ‡∞≠ ‡∞Æ ‡∞Ø ‡∞∞ ‡∞≤ ‡∞µ ‡∞∂ ‡∞∑ ‡∞∏ ‡∞π ‡∞≥ ‡∞ï‡±ç‡∞∑')">‡∞π‡∞≤‡±ç‡∞≤‡±Å‡∞≤‡±Å (Consonants)</div>
            <div class="ref-item" onclick="insertText('‡∞æ ‡∞ø ‡±Ä ‡±Å ‡±Ç ‡±É ‡±Ñ ‡±Ü ‡±á ‡±à ‡±ä ‡±ã ‡±å ‡∞Ç ‡∞É')">‡∞ó‡±Å‡∞£‡∞ø‡∞Ç‡∞§‡∞æ‡∞≤‡±Å (Diacritics)</div>
          </div>
          <div class="ref-section">
            <div class="ref-title">‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ ‡∞™‡∞¶‡∞¨‡∞Ç‡∞ß‡∞æ‡∞≤‡±Å</div>
            <div class="ref-item" onclick="insertText('‡∞∂‡±Å‡∞≠‡±ã‡∞¶‡∞Ø‡∞Ç')">‡∞∂‡±Å‡∞≠‡±ã‡∞¶‡∞Ø‡∞Ç</div>
            <div class="ref-item" onclick="insertText('‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç')">‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç</div>
            <div class="ref-item" onclick="insertText('‡∞ß‡∞®‡±ç‡∞Ø‡∞µ‡∞æ‡∞¶‡∞æ‡∞≤‡±Å')">‡∞ß‡∞®‡±ç‡∞Ø‡∞µ‡∞æ‡∞¶‡∞æ‡∞≤‡±Å</div>
            <div class="ref-item" onclick="insertText('‡∞ï‡±ç‡∞∑‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø')">‡∞ï‡±ç‡∞∑‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</div>
          </div>
          <div class="ref-section">
            <div class="ref-title">‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å</div>
            <div class="ref-item" onclick="insertText('‡∞í‡∞ï‡∞ü‡∞ø ‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞Æ‡±Ç‡∞°‡±Å ‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡±Å ‡∞ê‡∞¶‡±Å ‡∞Ü‡∞∞‡±Å ‡∞è‡∞°‡±Å ‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞ø ‡∞§‡±ä‡∞Æ‡±ç‡∞Æ‡∞ø‡∞¶‡∞ø ‡∞™‡∞¶‡∞ø')">1-10 ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å</div>
          </div>
        </div>
      </div>

      <!-- Settings Panel -->
      <div id="panel-settings" class="right-panel">
        <div class="setting-group">
          <label class="setting-label">‡∞≠‡∞æ‡∞∑ (Language)</label>
          <div class="lang-opts">
            <button class="lang-opt active" onclick="setLang('te', this)">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
            <button class="lang-opt" onclick="setLang('en', this)">English</button>
            <button class="lang-opt" onclick="setLang('mix', this)">Mixed</button>
          </div>
        </div>
        <div class="setting-group">
          <label class="setting-label">‡∞é‡∞ó‡±Å‡∞Æ‡∞§‡∞ø (Export)</label>
          <button class="setting-btn" onclick="exportAs('txt')">üìÑ TXT</button>
          <button class="setting-btn" onclick="exportAs('html')">üåê HTML</button>
          <button class="setting-btn" onclick="exportAs('pdf')">üìï PDF/Print</button>
        </div>
        <div class="setting-group">
          <label class="setting-label">‡∞ó‡∞£‡∞æ‡∞Ç‡∞ï‡∞æ‡∞≤‡±Å (Statistics)</label>
          <button class="setting-btn" onclick="showStats()">üìä ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø</button>
        </div>
      </div>
    </div>

    <!-- Sidebar Toggles -->
    <button class="sidebar-toggle" id="left-toggle" onclick="toggleSidebar('left')">‚óÄ</button>
    <button class="sidebar-toggle" id="right-toggle" onclick="toggleSidebar('right')">‚ñ∂</button>
  </div>

  <!-- STATUS BAR -->
  <div id="statusbar">
    <div id="total-stats"></div>
    <div style="flex:1"></div>
    <div style="font-size:9px;color:var(--text-muted);">¬© ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞∞‡∞ö‡∞® ‡∞∏‡∞Ç‡∞™‡∞æ‡∞¶‡∞ï‡±Å‡∞°‡±Å 2025</div>
  </div>
</div>

<!-- MODALS -->

<!-- Book Info Modal -->
<div id="book-info-modal" class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <h3>üìñ ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞∏‡∞Æ‡∞æ‡∞ö‡∞æ‡∞∞‡∞Ç</h3>
      <button class="modal-close" onclick="closeModal('book-info-modal')">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞™‡±á‡∞∞‡±Å</label>
        <input type="text" class="form-input" id="modal-title">
      </div>
      <div class="form-group">
        <label class="form-label">‡∞∞‡∞ö‡∞Ø‡∞ø‡∞§</label>
        <input type="text" class="form-input" id="modal-author">
      </div>
      <div class="form-group">
        <label class="form-label">‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∞‡∞Ç</label>
        <select class="form-input" id="modal-genre">
          <option value="">‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø...</option>
          <option value="‡∞ï‡∞•">‡∞ï‡∞•</option>
          <option value="‡∞®‡∞µ‡∞≤">‡∞®‡∞µ‡∞≤</option>
          <option value="‡∞ï‡∞µ‡∞ø‡∞§">‡∞ï‡∞µ‡∞ø‡∞§</option>
          <option value="‡∞®‡∞æ‡∞ü‡∞ï‡∞Ç">‡∞®‡∞æ‡∞ü‡∞ï‡∞Ç</option>
          <option value="‡∞ú‡±Ä‡∞µ‡∞ø‡∞§ ‡∞ö‡∞∞‡∞ø‡∞§‡±ç‡∞∞">‡∞ú‡±Ä‡∞µ‡∞ø‡∞§ ‡∞ö‡∞∞‡∞ø‡∞§‡±ç‡∞∞</option>
          <option value="‡∞™‡±ç‡∞∞‡∞µ‡∞ö‡∞®‡∞Ç">‡∞™‡±ç‡∞∞‡∞µ‡∞ö‡∞®‡∞Ç</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">‡∞™‡±ç‡∞∞‡∞ö‡±Å‡∞∞‡∞£‡∞ï‡∞∞‡±ç‡∞§</label>
        <input type="text" class="form-input" id="modal-publisher">
      </div>
      <div class="form-group">
        <label class="form-label">ISBN</label>
        <input type="text" class="form-input" id="modal-isbn">
      </div>
      <div class="form-group">
        <label class="form-label">‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞Ç</label>
        <input type="text" class="form-input" id="modal-year">
      </div>
      <button class="modal-btn" onclick="saveBookInfoFromModal()">‡∞∏‡±á‡∞µ‡±ç ‡∞ö‡±á‡∞Ø‡∞ø</button>
    </div>
  </div>
</div>

<!-- Preview Modal -->
<div id="preview-modal" class="modal-overlay">
  <div class="modal modal-large">
    <div class="modal-header">
      <h3>üëÅ ‡∞™‡±ç‡∞∞‡∞ø‡∞µ‡±ç‡∞Ø‡±Ç</h3>
      <div style="display:flex;gap:8px;">
        <select class="tb-select" onchange="renderPreview(this.value); currentLayout=this.value;">
          <option value="classic">‡∞ï‡±ç‡∞≤‡∞æ‡∞∏‡∞ø‡∞ï‡±ç ‡∞≤‡±á‡∞Ö‡∞µ‡±Å‡∞ü‡±ç</option>
          <option value="modern">‡∞Æ‡±ã‡∞°‡∞∞‡∞®‡±ç ‡∞≤‡±á‡∞Ö‡∞µ‡±Å‡∞ü‡±ç</option>
          <option value="dark">‡∞°‡∞æ‡∞∞‡±ç‡∞ï‡±ç ‡∞≤‡±á‡∞Ö‡∞µ‡±Å‡∞ü‡±ç</option>
        </select>
        <button class="modal-close" onclick="closeModal('preview-modal')">‚úï</button>
      </div>
    </div>
    <div class="modal-body" style="padding:0;overflow-y:auto;">
      <div id="preview-content"></div>
    </div>
  </div>
</div>

<!-- Cover Designer Modal -->
<div id="cover-modal" class="modal-overlay">
  <div class="modal modal-large">
    <div class="modal-header">
      <h3>üé® ‡∞ï‡∞µ‡∞∞‡±ç ‡∞∞‡±Ç‡∞™‡∞ï‡∞≤‡±ç‡∞™‡∞®</h3>
      <button class="modal-close" onclick="closeModal('cover-modal')">‚úï</button>
    </div>
    <div class="modal-body">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;">
        <!-- Canvas -->
        <div>
          <canvas id="cover-canvas" width="600" height="900" style="width:100%;border:2px solid var(--border);border-radius:8px;"></canvas>
          <button class="modal-btn" onclick="downloadCover()" style="width:100%;margin-top:12px;">‚¨á ‡∞ï‡∞µ‡∞∞‡±ç ‡∞°‡±å‡∞®‡±ç‚Äå‡∞≤‡±ã‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</button>
        </div>
        <!-- Controls -->
        <div style="overflow-y:auto;max-height:600px;">
          <div class="cover-group">
            <label class="cover-label">‡∞ü‡±Ü‡∞Ç‡∞™‡±ç‡∞≤‡±á‡∞ü‡±ç ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</label>
            <div id="cover-templates" style="display:grid;grid-template-columns:1fr 1fr;gap:8px;"></div>
          </div>
          <div class="cover-group">
            <label class="cover-label">‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞™‡±á‡∞∞‡±Å</label>
            <input type="text" class="cover-input" id="cover-title" onkeyup="generateCover()">
          </div>
          <div class="cover-group">
            <label class="cover-label">‡∞∞‡∞ö‡∞Ø‡∞ø‡∞§</label>
            <input type="text" class="cover-input" id="cover-author" onkeyup="generateCover()">
          </div>
          <div class="cover-group">
            <label class="cover-label">‡∞â‡∞™ ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï</label>
            <input type="text" class="cover-input" id="cover-subtitle" onkeyup="generateCover()">
          </div>
          <div class="cover-group">
            <label class="cover-label">‡∞™‡±ç‡∞∞‡∞ß‡∞æ‡∞® ‡∞∞‡∞Ç‡∞ó‡±Å</label>
            <input type="color" class="cover-input" id="cover-color" value="#c9933a" onchange="generateCover()">
          </div>
          <div class="cover-group">
            <label class="cover-label">‡∞®‡±á‡∞™‡∞•‡±ç‡∞Ø ‡∞∞‡∞Ç‡∞ó‡±Å</label>
            <input type="color" class="cover-input" id="cover-bg" value="#1a0f05" onchange="generateCover()">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Stats Modal -->
<div id="stats-modal" class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <h3>üìä ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞æ‡∞∂‡∞æ‡∞∏‡±ç‡∞§‡±ç‡∞∞‡∞Ç</h3>
      <button class="modal-close" onclick="closeModal('stats-modal')">‚úï</button>
    </div>
    <div class="modal-body">
      <div id="stats-content" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;"></div>
    </div>
  </div>
</div>

<!-- Export Menu -->
<div id="export-menu" class="context-menu">
  <div class="context-item" onclick="exportAs('txt'); closeContextMenu();">üìÑ TXT ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞ó‡∞æ ‡∞é‡∞ó‡±Å‡∞Æ‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</div>
  <div class="context-item" onclick="exportAs('html'); closeContextMenu();">üåê HTML ‡∞´‡±à‡∞≤‡±ç‚Äå‡∞ó‡∞æ ‡∞é‡∞ó‡±Å‡∞Æ‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</div>
  <div class="context-item" onclick="exportAs('pdf'); closeContextMenu();">üìï PDF ‡∞ó‡∞æ ‡∞Æ‡±Å‡∞¶‡±ç‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</div>
</div>

<!-- Notification -->
<div id="notification"></div>

<!-- Sanscript.js: synchronous, lightweight, no async init needed -->
<script src="https://cdn.jsdelivr.net/npm/sanscriptjs@0.0.1/sanscript.min.js"></script>
<script src="script.js"></script>
</body>
</html>
